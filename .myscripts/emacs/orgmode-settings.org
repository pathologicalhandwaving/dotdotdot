;; OrgMode Settings

;; orgref
 (use-package org-ref
    :config
    (setq org-ref-bibliography-notes "/Users/Em/Repos/tasks/OrgMode/library/refs/bib-notes.org"
          org-ref-default-bibliography '("/Users/Em/Repos/tasks/OrgMode/library/refs/default.bib")
          org-ref-pdf-directory "/Users/Em/Repos/tasks/OrgMode/library/refs/pdfs/")
    (require 'org-ref))


;; org-brain
  (use-package org-brain)


  ;; interleave
  (use-package interleave)


  :: org-mindmap
  ;;(usepackage org-mind-map
  ;;  :config
  ;;  (load "/Users/Em/.emacs.d/elpa/org-mind-map.el"))


  ;; pdf-tools
  (defun bjm/save-buffer-no-args ()
    (save-buffer))
  (use-package pdf-tools
    :pin manual
    :config
    (pdf-tools install)
    (add-hook 'pdf-view-mode-hook (lambda () (cua-mode 0)))
    (setq-default pdf-view-display-size 'fit-page)
    (setq pdf-view-resize-factor 1.1)
    (setq pdf-annot-activate-created-annotations t)
    (define-key pdf-view-mode-map (kbd "C-s") 'isearch-forward)
    (define-key pdf-view-mode-map (kbd "h") 'pdf-annot-add-highlight-markup-annotation)
    (define-key pdf-view-mode-map (kbd "t") 'pdf-annot-add-text-annotation)
    (define-key pdf-view-mode-map (kbd "D") 'pdf-annot-delete)
    (with-eval-after-load "pdf-annot"
      (define-key pdf-annot-edit-contents-minor-mode-map (kbd "<return>") 'pdf-annot-edit-contents-commit)
      (define-key pdf-annot-edit-contents-minor-mode-map (kbd "<S-return>") 'newline)
      (advice-add 'pdf-annot-edit-contents-commit :after 'bjm/save-buffer-no-args)))


;; Fancy bullet rendering.
  (use-package org-bullets
    :config
    (add-hook 'org-mode-hook (lambda () (org-bullets-mode 1))))
